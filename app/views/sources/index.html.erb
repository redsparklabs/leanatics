<h1>Listing sources</h1>

<table class="table table-striped">
  <tr>
    <th>Author</th>
    <th>Url</th>
    <th>Active</th>
    <th>Update Feed</th>
    <th>Last Updated</th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @sources.each do |source| %>
  <tr>
    <td><%= source.author %></td>
    <td><%= source.url %></td>
    <td><%= source.active? ? 'Active' : 'Inactive' %></td>
    <td><%= source.update_feed? ? 'Updating' : 'Not Updating' %></td>
    <td><%= source.last_updated?  ? time_ago_in_words(source.last_updated) : "Not Updating" %></td>
    <td><% if source.update_feed? %><%= link_to 'Update', update_single_feed_path(source) %><% end %></td>
    <td><%= link_to 'Show', source %></td>
    <td><%= link_to 'Edit', edit_source_path(source) %></td>
    <td><%= link_to 'Destroy', source, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />
<%= link_to 'Update Feed',update_all_feed_path %><br />
<%= link_to 'View Feed',feed_path %><br />
<%= link_to 'New Source', new_source_path %>
